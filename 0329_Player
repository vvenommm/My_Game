package f_game;

import e_oop.ScanUtil;
import f_game.Foods.Hamburger;

public class Player {

	String name; //ì´ë¦„
	int exp; //ê²½í—˜ì¹˜
	int money;
	int level; //ë ˆë²¨
	Foods[] recipes; //ë³´ìœ  ìŒì‹ ë ˆì‹œí”¼
	int[] recipesNum;
	
	//ì´ˆê¸°í™”
	Player(String name){
		this.name = name;
		this.exp = 0;
		this.money = 100000;
		this.level = 1;
		this.recipes = new Foods[7];
		this.recipesNum = new int[7];
	}
	
	
	
	//í”Œë ˆì´ì–´ ì •ë³´
	void showStatus() { 
		System.out.println("\n");
		System.out.println("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”");
		System.out.println("â”‚          ë‚´ ì •ë³´                 â”‚");
		System.out.println("\n    ì´ë¦„ : " + name);
		System.out.println("    ë ˆë²¨ : " + level);
		System.out.println("    ê²½í—˜ì¹˜ : " + exp + "/1000");
		System.out.println("    ì¬ì‚° : " + money + "ì›");
		System.out.println("\n -------ë³´ìœ  ë ˆì‹œí”¼-------");
		for(int i = 0; i < recipes.length; i++) {
			if(recipes[i] != null) {
				recipes[i].showMenuInfo();
			}
		}
		System.out.println("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n");
	}
	
	

	//ì£¼ë¬¸ë°›ê¸°
	void playing (Player p, Customer c, Foods f) {
		int code = 0;
		int temp = 0;
		boolean flag = true;		
		while(flag == true) {
			int ran = (int)(Math.random()*7);
			if (recipes[ran] != null) {
				stop(500);
				System.out.println(c.name + " : ì•ˆë…•í•˜ì„¸ìš”~ " + recipes[ran].name + " ì£¼ì„¸ìš”!");
				temp = ran;
				flag = false;
				break;
			}
		}
		stop(500);
		System.out.println(p.name + " : ë„¤~â™¬ " + recipes[temp].name + " ì£¼ë¬¸ ë°›ì•˜ìŠµë‹ˆë‹¤~\n");
		stop(500);
		System.out.println("[SYSTEM] " + recipes[temp].name + "ì„/ë¥¼ ì¡°ë¦¬í•´ ë´…ì‹œë‹¤!");
		stop(500);
		code = recipes[temp].code;
		serve(code, temp, p, c, f);
	}
	
	
	
	//í”Œë ˆì´ì–´ì˜ ì¡°ë¦¬ ì‹œë„
	void serve(int code, int temp, Player p, Customer c, Foods f) {
		System.out.println("[SYSTEM] ìˆ«ìë¥¼ ì…ë ¥í•´ì„œ ì¬ë£Œë¥¼ ì°¨ê³¡ì°¨ê³¡ ìŒ“ì•„ë³´ì„¸ìš”!");
		stop(500);
		System.out.println("[SYSTEM] ìŒë£Œì˜ ê²½ìš° í•´ë‹¹ ë²ˆí˜¸ë§Œ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤.\n");
		stop(500);
		System.out.println("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”");
		System.out.println("    *ì¬ë£Œ*");
		System.out.println("  1. ë¹µ\n  2. ê³  ê¸° íŒ¨ í‹°\n  3. ì¹˜ í‚¨ íŒ¨ í‹°\n  4. ë¹„ ê±´ íŒ¨ í‹°\n  5. ì¹˜ ì¦ˆ\n  6. í”¼ í´\n  7. ìƒ ì¶”\n  8. ì–‘ íŒŒ\n  9. ì†Œ ìŠ¤\n --------------\n  1. íƒ„ ì‚° ìŒ ë£Œ\n  2. ë”° ë“¯ í•œ   ì»¤ í”¼\n  3. ì‹œ ì› í•œ   ì»¤ í”¼");
		System.out.println ("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜");
		System.out.println("->");
		int input = ScanUtil.nextInt1();
		cooking(input, code, temp, p, c, f);
		stop(500);
	}
		
		
		
	//ì¡°ë¦¬í•˜ê¸° - ì´ëª¨í‹°ì½˜ ì¶œë ¥
	void cooking(int input, int code, int temp, Player p, Customer c, Foods f) {
		if(input == 16257891) {
			System.out.println("\n\n[SYSTEM] ì¬ë£Œë¹„ë¡œ " + p.recipes[temp].cost + "ì›ì„ ì¼ìŠµë‹ˆë‹¤.\n\n");
			stop(500);
			Foods.ham();
			stop(500);
			if(code == 16257891) {
				c.reaction1(c);
				Hoos_Burgers.pay(temp, p, c, f);
				getEXP(p, temp, f, c);
				f.getRecipe(p, f);
			}else {
				System.out.println(c.name + " :");
				c.reaction2();
				Hoos_Burgers.payFail(temp, p, c, f);
				loseEXP(p, temp, f, c);
			}
		}else if(input == 16853791) {
			System.out.println("\n\n[SYSTEM] ì¬ë£Œë¹„ë¡œ " + p.recipes[temp].cost + "ì›ì„ ì¼ìŠµë‹ˆë‹¤.\n\n");
			Foods.chick();
			if(code == 16853791) {
				c.reaction1(c);
				Hoos_Burgers.pay(temp, p, c, f);
				getEXP(p, temp, f, c);
				f.getRecipe(p, f);
			}else {
				System.out.println(c.name + " :");
				c.reaction2();
				Hoos_Burgers.payFail(temp, p, c, f);
				loseEXP(p, temp, f, c);
			}
		}else if(input == 15625791) {
			System.out.println("\n\n[SYSTEM] ì¬ë£Œë¹„ë¡œ " + p.recipes[temp].cost + "ì›ì„ ì¼ìŠµë‹ˆë‹¤.\n\n");
			Foods.chee();
			if(code == 15625791) {
				c.reaction1(c);
				Hoos_Burgers.pay(temp, p, c, f);
				getEXP(p, temp, f, c);
				f.getRecipe(p, f);
			}else {
				System.out.println(c.name + " :");
				c.reaction2();
				Hoos_Burgers.payFail(temp, p, c, f);
				loseEXP(p, temp, f, c);
			}
		}else if(input == 1846971) {
			System.out.println("\n\n[SYSTEM] ì¬ë£Œë¹„ë¡œ " + p.recipes[temp].cost + "ì›ì„ ì¼ìŠµë‹ˆë‹¤.\n\n");
			Foods.veg();
			if(code == 1846971) {
				c.reaction1(c);
				Hoos_Burgers.pay(temp, p, c, f);
				getEXP(p, temp, f, c);
				f.getRecipe(p, f);
			}else {
				System.out.println(c.name + " :");
				c.reaction2();
				Hoos_Burgers.payFail(temp, p, c, f);
				loseEXP(p, temp, f, c);
			}
		}else if(input == 1) {
			System.out.println("\n\n[SYSTEM] ì¬ë£Œë¹„ë¡œ " + p.recipes[temp].cost + "ì›ì„ ì¼ìŠµë‹ˆë‹¤.\n\n");
			Foods.drink();
			if(code == 1) {
				c.reaction1(c);
				Hoos_Burgers.pay(temp, p, c, f);
				getEXP(p, temp, f, c);
				f.getRecipe(p, f);
			}else {
				System.out.println(c.name + " :");
				c.reaction2();
				Hoos_Burgers.payFail(temp, p, c, f);
				loseEXP(p, temp, f, c);
			}
		}else if(input == 2) {
			System.out.println("\n\n[SYSTEM] ì¬ë£Œë¹„ë¡œ " + p.recipes[temp].cost + "ì›ì„ ì¼ìŠµë‹ˆë‹¤.\n\n");
			Foods.hotC();
			if(code == 2) {
				c.reaction1(c);
				Hoos_Burgers.pay(temp, p, c, f);
				getEXP(p, temp, f, c);
				f.getRecipe(p, f);
			}else {
				System.out.println(c.name + " :");
				c.reaction2();
				Hoos_Burgers.payFail(temp, p, c, f);
				loseEXP(p, temp, f, c);
			}
		}else if(input == 3) {
			System.out.println("\n\n[SYSTEM] ì¬ë£Œë¹„ë¡œ " + p.recipes[temp].cost + "ì›ì„ ì¼ìŠµë‹ˆë‹¤.\n\n");
			Foods.iceC();
			if(code == 3) {
				c.reaction1(c);
				Hoos_Burgers.pay(temp, p, c, f);
				getEXP(p, temp, f, c);
				f.getRecipe(p, f);
			}else {
				System.out.println(c.name + " :");
				c.reaction2();
				Hoos_Burgers.payFail(temp, p, c, f);
				loseEXP(p, temp, f, c);
			}
		}else {
			System.out.println("\n\n[SYSTEM] ì¬ë£Œë¹„ë¡œ " + p.recipes[temp].cost + "ì›ì„ ì¼ìŠµë‹ˆë‹¤.\n\n");
			stop(500);
			Foods.WrongOrder();
			stop(500);
			c.reaction3();
			Hoos_Burgers.payFail(temp, p, c, f);
			loseEXP(p, temp, f, c);
		}
	}

	
	
	//ì„±ê³µ ì‹œ ì†ì„± ë³€ê²½
	void getEXP(Player p, int temp, Foods f, Customer c){
		stop(500);
		System.out.println("[SYSTEM] PERFECT!!\n\n");
		stop(500);
		System.out.println("[SYSTEM] " + c.name + "(ì´)ê°€ " + p.recipes[temp].price + "ì›ì„ ê³„ì‚°í–ˆìŠµë‹ˆë‹¤.");
		stop(500);
		System.out.println("[SYSTEM] ì™„ë£Œ ë³´ìƒìœ¼ë¡œ " + p.recipes[temp].exp + "ì˜ ê²½í—˜ì¹˜ë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤.");
		while(1000 <= this.exp) {
			this.exp -= 1000;
			levelUP(p, c);
		}	
	}
	
	
	
	//ì‹¤íŒ¨ ì‹œ ì†ì„± ë³€ê²½
	void loseEXP(Player p, int temp, Foods f, Customer c){
		stop(500);
		System.out.println("[SYSTEM] ì—‰ë§ì§„ì°½ ìŒì‹!!\n[SYSTEM] " + c.name + "(ì´)ê°€ ì£¼ë¬¸í•œ ìŒì‹ì´ ì•„ë‹™ë‹ˆë‹¤!!!\n");
		stop(500);
		System.out.println("[SYSTEM] " + c.name + "(ì´)ê°€ " + p.recipes[temp].price/2 + "ì›ë§Œ ê³„ì‚°í–ˆìŠµë‹ˆë‹¤.");
		stop(500);
		System.out.println("[SYSTEM] " + c.exp + "ë§Œí¼ ê²½í—˜ì¹˜ê°€ ê¹ì˜€ìŠµë‹ˆë‹¤.\n\n");
		while(0 >= this.exp) {
			this.exp += 1000;
			levelDOWN(p, c);
		}
	}
	
	
	
	//ë ˆë²¨ ì—…
	void levelUP(Player p, Customer c) {
		int bonus = 20000;
		level++;
		money += bonus;
		if(level == 3) {
			stop(500);
			c.sucEnding();
			stop(500);
			System.out.println("[SYSTEM] ğŸ‰ğŸ‰ ìµœê³  ë ˆë²¨ ë„ë‹¬ ğŸ‰ğŸ‰");
			stop(500);
			System.out.println("[SYSTEM] " + p.name + "'s Burgers í‚¤ìš°ê¸° ì„±ê³µ!!!");
			stop(500);
			System.out.println("[SYSTEM] ëª¨ë“  ë¯¸ì…˜ì„ ì™„ìˆ˜í•˜ì—¬ ë” ì´ìƒ ì§„í–‰í•  ë¯¸ì…˜ì´ ì—†ìŠµë‹ˆë‹¤.\n[SYSTEM] ê²Œì„ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.");
			stop(500);
			System.out.println("[SYSTEM] 0. ì¢…ë£Œí•˜ê¸°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.\n->");
			int input = ScanUtil.nextInt1();
			System.exit(input);
		}else {
		stop(500);
		System.out.println("        \n\nâ—†â—‡â—† LEVEL UP â—‡â—†â—‡\n");
		stop(500);
		System.out.println("        ï¼¼ğŸ˜†ã¸ã€€ ã¸ğŸ˜ãƒ˜ã€€ ãğŸ˜/ ");
		System.out.println("        ãƒ˜ / ã€€ã€€ã€€ ( ãƒ˜ã€€ã€€ ã€€( ãƒ˜ ");
		System.out.println("                ã€€ >ã€€ ã€€ <ã€€ã€€ã€€ã€€ã");
		stop(500);
		System.out.println("\n\n[SYSTEM] ë ˆë²¨ ì—…!! " + level + "ì´/ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤!");
		stop(500);
		System.out.println("[SYSTEM] ë ˆë²¨ ì—… ë³´ìƒìœ¼ë¡œ " + bonus + "ì›ì„ ë°›ì•˜ìŠµë‹ˆë‹¤!\n\n");
		}
	}
	
	
	//ë ˆë²¨ ë‹¤ìš´
	void levelDOWN(Player p, Customer c) {
		int penalty = (int)(Math.random()*1001);
		level--;
		money -= penalty;
		if(level == 0) {
			stop(500);
			c.failEnding();
			stop(500);
			System.out.println("ğŸš¨ğŸš¨ğŸš¨ğŸš¨ ë„ì „ ì‹¤íŒ¨ ğŸš¨ğŸš¨ğŸš¨ğŸš¨");
			stop(500);
			System.out.println("[SYSTEM] " + p.name + "'s Burgers í‚¤ìš°ê¸° ë¯¸ì…˜ì„ ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤!!!");
			stop(500);
			System.out.println("[SYSTEM] ê²Œì„ì„ ë” ì´ìƒ ì§„í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n [SYSTEM] ê²Œì„ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.");
			stop(500);
			System.out.println("[SYSTEM] 0. ì¢…ë£Œí•˜ê¸°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.\n->");
			int input = ScanUtil.nextInt1();
			System.exit(input);
		}else if(money < 0){
			stop(500);
			c.failEnding();
			stop(500);
			System.out.println("ğŸ“¢ğŸ“¢ğŸ“¢ğŸ“¢ íŒŒì‚° ğŸ“¢ğŸ“¢ğŸ“¢ğŸ“¢");
			stop(500);
			System.out.println("[SYSTEM] " + p.name + "'s Burgers í‚¤ìš°ê¸° ë¯¸ì…˜ì„ ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤!!!");
			stop(500);
			System.out.println("[SYSTEM] ê²Œì„ì„ ë” ì´ìƒ ì§„í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n [SYSTEM] ê²Œì„ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.");
			stop(500);
			System.out.println("[SYSTEM] 0. ì¢…ë£Œí•˜ê¸°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.\n->");
			int input = ScanUtil.nextInt1();
			System.exit(input);
		}else {
		stop(500);
		System.out.println("!!!!!! LEVEL DOWN !!!!!!");
		stop(500);
		System.out.println("[SYSTEM] ë ˆë²¨ì´ ëš ë–¨ì–´ì¡ŒìŠµë‹ˆë‹¤.");
		stop(500);
		System.out.println("!!!!!! LEVEL DOWN !!!!!!\n\n");
		stop(500);
		System.out.println("[SYSTEM] " + p.name + "(ì´)ê°€ ë°˜ì„±í•˜ëŠ” ë§ˆìŒìœ¼ë¡œ" + penalty + "ì›ì„ ê¸°ë¶€í–ˆìŠµë‹ˆë‹¤!\n\n");
		}
	}
	
	
	private void stop(int number) {
		try {
			Thread.sleep(number);
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
	}
		
}
